"use strict";function ebReferences(){var o,n,e=-1===navigator.userAgent.indexOf("Opera Mini")&&"querySelector"in document&&"addEventListener"in window&&!!Array.prototype.forEach,t=document.querySelectorAll(".footnote");e&&0!==t.length&&(t.forEach(function(e){var t=e.hash,o=e.hash.replace("#",""),n=t.replace(":","\\:"),t=document.querySelector(n),r=document.createElement("div");r.classList.add("footnote-detail"),r.classList.add("visuallyhidden"),r.setAttribute("data-bookmarkable","no"),r.id="inline-"+o;n=e.parentNode,o=e.parentNode.parentNode;o.appendChild(r),r.innerHTML=t.innerHTML,r.querySelectorAll("[id]").forEach(function(e){e.getAttribute("id")&&e.removeAttribute("id")}),n.getAttribute("role","doc-noteref")&&n.querySelector("a")&&(n.removeAttribute("role","doc-noteref"),n.querySelector("a").setAttribute("role","doc-noteref")),n.addEventListener("mouseover",function(e){e.target.classList.contains("footnote")&&r.classList.remove("visuallyhidden")}),n.setAttribute("tabindex",0);var i=r.querySelectorAll("a");i.forEach(function(e){e.setAttribute("tabindex","-1")}),n.addEventListener("keydown",function(e){"Enter"===e.key&&(r.classList.toggle("visuallyhidden"),i.forEach(function(e){e.removeAttribute("tabindex")}))}),o.parentNode.classList.add("contains-footnote"),r.addEventListener("mouseleave",function(e){e.target===this&&setTimeout(function(){r.classList.add("visuallyhidden")},1e3)}),window.addEventListener("keydown",function(e){"Escape"!==e.key||r.classList.contains("visuallyhidden")||(r.classList.add("visuallyhidden"),i.forEach(function(e){e.setAttribute("tabindex","-1")}))});n=r.querySelector(".reversefootnote");n.innerText="";o=document.createElement("span");o.classList.add("visuallyhidden"),o.innerText=locales[pageLanguage].footnotes["close-footnote"],n.appendChild(o),n.addEventListener("click",function(e){e.preventDefault(),r.classList.add("visuallyhidden")}),e.removeAttribute("href")}),t=document.querySelectorAll(".footnotes a.reversefootnote"),o=locales[pageLanguage].footnotes["reversefootnote-alt"],n="../../",metadata.languages.forEach(function(e){window.location.href.includes("/"+e+"/text")&&(n="../../../")}),t.forEach(function(e){var t=document.createElement("img");t.setAttribute("src",n+"assets/images/reversefootnote-arrow.svg"),t.setAttribute("alt",o),e.innerHTML="",e.appendChild(t),e.setAttribute("title",o)}),(t=document.querySelector("div.footnotes")).getAttribute("role","doc-endnotes")&&t.querySelector("ol")&&(t.removeAttribute("role","doc-endnotes"),t.querySelector("ol").setAttribute("role","doc-endnotes")))}ebReferences();