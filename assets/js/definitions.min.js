function ebDefinitionsInit(){"use strict";return-1===navigator.userAgent.indexOf("Opera Mini")&&void 0!==document.querySelector&&void 0!==window.addEventListener&&!!Array.prototype.forEach}function ebDefinitionsSlugify(e){"use strict";return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function ebDefinitionsMoveDefinitions(){"use strict";document.querySelectorAll(".definition-term").forEach(function(n){n.parentNode.classList.add("hidden-definition-list");var o,r=n.innerHTML;-1!==r.indexOf("<em>")&&(o=!0);var s=r,s=(s=(s=o?s.replace(/(<([^>]+)>)/gi,"*"):s).replace("’","'")).replace("‘","'");document.querySelector('[data-term="'+s+'"]')&&document.querySelectorAll('[data-term="'+s+'"]').forEach(function(e){o&&(r=s.replace(/\*(.+?)\*/gi,"<em>$1</em>"));var t=n.nextElementSibling.innerHTML,i=document.createElement("span");i.innerHTML='<span class="definition-hover-term">'+r+"</span> "+t,i.classList.add("visuallyhidden"),i.classList.add("definition-description-hover"),i.setAttribute("data-bookmarkable","no"),e.insertAdjacentElement("afterEnd",i);e=document.createElement("button");e.classList.add("close"),e.innerHTML='<span class="visuallyhidden">close</span>',i.appendChild(e)})})}function ebDefinitionsKeyboardAccess(){"use strict";document.querySelectorAll("span.definition-description-hover").forEach(function(e){e.querySelectorAll("em.definition-cross-reference a, button.close").forEach(function(e){e.setAttribute("tabindex","-1")})})}function ebDefinitionsShowDescriptions(){"use strict";document.querySelectorAll("[data-term]").forEach(function(e){var t,i=e.nextElementSibling;i&&(e.addEventListener("click",function(){i.classList.remove("visuallyhidden")}),e.setAttribute("tabindex",0),t=i.querySelectorAll("em.definition-cross-reference a, button.close"),e.addEventListener("keydown",function(e){"Enter"===e.key&&(i.classList.toggle("visuallyhidden"),t.forEach(function(e){e.hasAttribute("tabindex")?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1")}))}))})}function ebDefinitionsHideDescriptions(){"use strict";document.querySelectorAll(".definition-description-hover").forEach(function(t){t.addEventListener("mouseleave",function(){setTimeout(function(){t.classList.add("visuallyhidden")},1e3)});var i=t.querySelectorAll("em.definition-cross-reference a, button.close");window.addEventListener("keydown",function(e){"Escape"===e.key&&(t.classList.add("visuallyhidden"),i.forEach(function(e){e.setAttribute("tabindex","-1")}))})})}function ebDefinitionsHideDescriptionWithButton(){"use strict";document.querySelectorAll(".definition-description-hover button.close").forEach(function(t){t.addEventListener("click",function(){t.parentNode.classList.add("visuallyhidden")}),t.addEventListener("keydown",function(e){"Enter"===e.key&&t.parentNode.querySelectorAll("em.definition-cross-reference a, button.close").forEach(function(e){e.setAttribute("tabindex","-1")})})})}var ebDefinitions=function(){"use strict";ebDefinitionsInit()&&(ebDefinitionsMoveDefinitions(),ebDefinitionsKeyboardAccess(),ebDefinitionsShowDescriptions(),ebDefinitionsHideDescriptions(),ebDefinitionsHideDescriptionWithButton())};ebDefinitions();