function ebVideoInit(){"use strict";return document.querySelectorAll(".videowrapper")}var ebVideoHosts={youtube:"https://www.youtube.com/embed/",vimeo:"https://player.vimeo.com/video/"};function ebGetVideoHost(e){"use strict";var t;return e.classList.forEach(function(e){ebVideoHosts.hasOwnProperty(e)&&(t=e)}),t}function ebVideoSubtitles(e){"use strict";if("true"===e.getAttribute("data-video-subtitles"))return 1}function ebVideoLanguage(e){"use strict";return e.getAttribute("data-video-language")}function ebVideoGetTitle(e){"use strict";return e.getAttribute("data-title")}function ebVideoMakeIframe(e,t,o,i,n,s){"use strict";var r=ebVideoHosts[t],u="?autoplay=0";i&&"youtube"===t&&(u+="&cc_lang_pref="+i),n&&"youtube"===t&&(u+="&cc_load_policy="+n);n=document.createElement("iframe");return n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),n.setAttribute("src",r+o+u),n.setAttribute("title",s),e.removeAttribute("data-title"),n}function onYouTubeIframeAPIReady(){}function ebVideoUseTheYoutubeIFrameAPI(e,t,o,i,n){YT.ready(function(){new YT.Player(e,{videoId:e,playerVars:{cc_lang_pref:t,cc_load_policy:o,enablejsapi:1},events:{onStateChange:function(e){1===e.data&&ebTrackYoutubeVideoPlay(n)}.bind(n)}}).getIframe().setAttribute("title",i)})}function videoOptionsDropdown(e){"use strict";var t,o,i=e.querySelector(".video-options");i&&(t=i.querySelector("button"),(o=i.querySelector(".video-options-content")).classList.add("js-video-options-content"),t.addEventListener("click",function(){o.classList.toggle("js-video-options-content-visible")}),t.addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),o.classList.toggle("js-video-options-content-visible"))}),i.addEventListener("keydown",function(e){o.classList.contains("js-video-options-content-visible")&&"Escape"===e.key&&(o.classList.remove("js-video-options-content-visible"),t.focus())}),"web"===settings.site.output&&ebTrackVideoOptionClicks(e))}function videoShow(e){"use strict";ebVideoInit()&&e.querySelectorAll(".video").forEach(function(e){var t,o,i,n,s,r;e.classList.contains("video-embedded")||(t=ebGetVideoHost(e),o=e.getAttribute("data-video-id"),i=ebVideoLanguage(e),n=ebVideoSubtitles(e),r=ebVideoGetTitle(e),s=e.querySelector(".video-wrapper"),e.classList.add("video-embedded"),s.querySelector("a")&&s.removeChild(s.querySelector("a")),"youtube"===t&&"web"===settings.site.output?ebVideoUseTheYoutubeIFrameAPI(o,i,n,r,e):(r=ebVideoMakeIframe(e,t,o,i,n,r),s.appendChild(r)),videoOptionsDropdown(e))})}