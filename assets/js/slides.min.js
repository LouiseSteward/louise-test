"use strict";var ebSlideSupports=function(){return-1===navigator.userAgent.indexOf("Opera Mini")&&"querySelector"in document&&"addEventListener"in window&&"onhashchange"in window&&!!Array.prototype.forEach&&document.querySelectorAll(".slides")},ebSlidesMoveSummaryMeta=function(e){e.forEach(function(e){var t=e.querySelector(".summary"),i=t.querySelector(".caption"),r=t.querySelector(".figure-source"),n=document.createElement("div");n.classList.add("figure-summary-meta"),null!=i&&n.insertAdjacentHTML("beforeend",i.outerHTML),null!=r&&n.insertAdjacentHTML("beforeend",r.outerHTML),e.insertAdjacentHTML("beforeend",n.outerHTML),e.id=t.id,e.removeChild(t)})};function ebTruncateText(e,t){var i=e;return i=e.length>t?e.substring(0,t)+"â€¦":i}var ebSlidesBuildNav=function(e){e.forEach(function(e){var t=e.querySelectorAll(".figure"),i=t.length,r="";r+='<nav class="nav-slides',4<i&&(r+=" nav-slides-many ",6<i&&(r+=" nav-slides-many-many ")),r+='" ';i=e.getAttribute("id");r+='aria-label="'+i+' thumbnails"',r+=">",r+="<ol>",t.forEach(function(e){var t;r+="<li>",r+='<a href="#'+e.id+'">',e.querySelector(".figure-images img")?((t=e.querySelector(".figure-images img").cloneNode()).removeAttribute("srcset"),t.removeAttribute("sizes"),r+=t.outerHTML):(e=ebTruncateText(e=e.querySelector(".figure-body .title").innerText,8),r+='<span class="slide-thumbnail-text">',r+=e,r+="</span>"),r+="</a>",r+="</li>"}),r+="</ol>",e.insertAdjacentHTML("afterbegin",r+="</nav>")})},ebResetSlides=function(e){e.forEach(function(e){e.querySelectorAll(".figure").forEach(function(e){e.classList.add("visuallyhidden")}),e.previousElementSibling.querySelectorAll(".nav-slides li").forEach(function(e){e.classList.remove("slide-current")})})},ebSlidesShowFirstInSlideline=function(e){e.querySelectorAll(".figure")[0].classList.remove("visuallyhidden")},ebSlidesShowFirst=function(e){e.forEach(function(e){ebSlidesShowFirstInSlideline(e)})},ebSlidesMarkNavUpToCurrent=function(e){var e=e.querySelectorAll(".nav-slides li"),t=!1;e.forEach(function(e){t||(e.classList.contains("slide-current")?t=!0:e.classList.add("slide-current"))})},ebSlidesShow=function(e){var i;window.location.hash?(i=decodeURIComponent(window.location.hash.replace(":","\\:")),isNaN(i[1])?e.forEach(function(e){var t;e.querySelector(i)?(e.querySelector('.nav-slides [href="'+i+'"]')||(t=document.querySelector(i).closest("div.figure"),i="#"+t.getAttribute("id")),e.querySelector(i).classList.remove("visuallyhidden"),e.querySelectorAll(".nav-slides li").forEach(function(e){e.classList.remove("slide-current")}),(t=e.querySelector('.nav-slides [href="'+i+'"]')).setAttribute("tabindex",0),t.focus(),t.parentNode.classList.add("slide-current"),ebSlidesMarkNavUpToCurrent(e)):ebSlidesShowFirstInSlideline(e)}):ebSlidesShowFirst(e)):ebSlidesShowFirst(e)},ebSlidesKeyDown=function(){window.addEventListener("keydown",function(e){var t=e.key||e.which,i=e.target||e.srcElement;i.closest(".slides")&&document.querySelector(".slides "+i.hash)&&("ArrowLeft"!==t&&37!==t&&"ArrowUp"!==t&&38!==t||!i.parentNode.previousElementSibling?"ArrowRight"!==t&&39!==t&&"ArrowDown"!==t&&"40"!==t||!i.parentNode.nextElementSibling||(e.preventDefault(),i.parentNode.nextElementSibling.querySelector("a").click()):(e.preventDefault(),i.parentNode.previousElementSibling.querySelector("a").click()))}),document.querySelectorAll(".slides").forEach(function(r){var n=r.querySelectorAll(".nav-slides li a"),l=r.querySelectorAll(".figure a.figure-image-link");0!==l.length&&n.forEach(function(e){var t=e.href.split("#")[1],i=r.querySelector("#"+t+" a");n.item(0)!==e&&i.setAttribute("tabindex","-1"),e.addEventListener("keydown",function(e){"Enter"===e.key&&(l.forEach(function(e){e.setAttribute("tabindex","-1")}),i.removeAttribute("tabindex"))})})})},ebSlidesAlreadyShown=function(){document.querySelectorAll(".nav-slides a").forEach(function(e){e.addEventListener("click",function(e){document.querySelector(this.getAttribute("href")).classList.contains("visuallyhidden")||e.preventDefault()})})},ebSlides=function(){var e;ebSlideSupports()&&(e=document.querySelectorAll(".slides"),ebSlidesMoveSummaryMeta(e),ebSlidesBuildNav(e),ebResetSlides(e),ebSlidesShow(e),ebSlidesAlreadyShown(),window.addEventListener("hashchange",function(){ebResetSlides(e),ebSlidesShow(e)}),ebSlidesKeyDown())};ebSlides();